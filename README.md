# WebpageScannerApp
## Описание
  Мобильное приложение воспроизводит поиск на web-страницах. В зависимости от количества<br/>
страниц, введенных пользователем, осуществляется построение дерева(графа) страниц по принципу "в ширину"<br/>
Далее запускается поиск текста на страницах, при чем используя параматрезированный набор потоков.<br/>

Из входных данных от пользователя необходимо запросить стартовый url, текст для поиска, количество страниц и потоков.<br/>

### Пользовательский интерфейс
  Интерфейс взаимодействия с пользователем осуществлен на двух Activity: MainActivity, SearchActivity<br/>
  
В MainActivity пользователь вводит необходимые входные данные, валидация полей также реализована<br/>
В SearchActivity пользователь может увидить "терминал" с информацией о сканируемых адресах, статусе и тд.<br/>

Также есть панель управления, которая состоит из кнопок PauseButton, StartButton, StopButton<br/>
Над панелью управления расположен ProgressBar, который динамически прогрессирует во время просмотра страниц.<br/>

### Предположения (ответ на вопрос в ТЗ)
1. В задании указано, что надо осуществлять поиск текста и показывать статус "Найдено/Не найдено/Ошибка". Соответственно задача-минимум
это проверить наличие хотя бы одного совпадения текста на сканируемой странице. В приложении реализована чуть более сложная задача:
это поиск количества совпадений. В терминале на каждом url будет отметка Matches: N, где N - кол-во совпадений.<br/>
2. Предполагаем, что количество потоков сканирования точно больше 0. (В NumberPicker view нельзя выбрать 0 потоков). UI thread<br/>
не считаем.<br/>
3. Не указана необходимость адаптировать приложение под различный версии ОС и экраны, предположим, что достаточно концептуальной 
реализации без адаптаций.<br/>

### Кратко об архитектуре
Алгоритм реализации основной задачи (поиска информации) разделен в несколько этапов.<br/>
1. Сбор входных данных делается на MainActivity.<br/>
2. ScannerService рекурсивно сканирует ссылки начиная с базовой и строит граф ссылок и их уровня в условном дереве.<br/>
Структура данных используется - LinkedHashMap для удовлетворения последовательности нод и уникальности.<br/>
3. RequestService проходит по созданной мапе и делает GET-запросы получая информацию со страницы в обьект RequestInfo.<br/>
Всю полученную информацию параллельно отображает на терминале (RecyclerView), который виден пользователю.<br/>

## Технологии
* Java core, collections, Executor API (for multithreading)
* OkHttp3 (http client)
* Retrofit2 (rest client)
* Jsoup (html parsing library)
* Android Studio

## Тестирование
Правильный подход к тестированию заключается в изначальном составлении Testing strategy/Testing plan/Requirement specification<br/>
Для базовой бизнес логики можно составить юнит-тесты используя к примеру фреймворк Mockito<br/>
Для тестирования внутри потоков можно использовать например Thread Weaver<br/>

## Screenshots
